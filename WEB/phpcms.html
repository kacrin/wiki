<!DOCTYPE HTML>
<html>
    <head>
        <!--
        <link rel="Stylesheet" type="text/css" href="../static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/tango.css">
        -->
        <link rel="Stylesheet" type="text/css" href="../static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="../static/css/tango.css">

        <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
        <title>phpcms - MANJIA_WIKI</title>
        <meta name="keywords" content="Hack, Tools"/>
        <meta name="description" content=""/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#WEB">WEB</a>&nbsp;»&nbsp;phpcms</div>
</div>
<div class="clearfix"></div>
<div id="title">phpcms</div>
  <div id="content">
  <h2 id="phpcms-intro">phpcms Intro</h2>
<p>一个web框架,基于php+mysql,<a href="http://bbs.phpcms.cn">官方网站</a>,制作网站完全只用内容模块来实现,目前我也只懂用内容模块来搭建网站,<a href="http://www.phpcms.cn/index.php?m=content&amp;c=down&amp;a_k=2e5etaQ49b2hwW0zzVUq1l1d1MKwa5_xe46eTAuWkwtbZ1vQBvoLW3F_KxE6uNReFww6zrdG0YK6syrne7OUah3MziV2TOcLjjc5syLrKlnlYhOEC51Ceg0o0AFGmjkMp9cZHMmgbvfEE6t9jyBpji3cPebdGLtylw">下载地址</a>在百度云网盘下thinkphp/目录下也有程序源码</p>
<h2 id="phpcms">phpcms 安装</h2>
<p>在window环境下 xampp 一键环境内(apache+mysql+php),在本地xampp 下 首先搭建一个域名
-第一种配置域名方法</p>
<div class="hlcode"><pre><span class="nt">&lt;VirtualHost</span> <span class="err">*:80</span><span class="nt">&gt;</span>
        ServerName zxwh.huishi365.cn
        DocumentRoot /var/www/zxwh
        ErrorLog /var/log/apache2/error-zxwh.huishi365.log
<span class="nt">&lt;/VirtualHost&gt;</span>
</pre></div>


<p>-第二种配置端口方法</p>
<div class="hlcode"><pre><span class="nb">Listen</span> <span class="mi">12551</span>
<span class="nx">NameVirtualHost</span> <span class="o">*</span><span class="p">:</span><span class="mi">12551</span>
<span class="o">&lt;</span><span class="nx">VirtualHost</span> <span class="o">*</span><span class="p">:</span><span class="mi">12551</span><span class="o">&gt;</span>

        <span class="nb">DocumentRoot</span> <span class="s2">&quot;E:</span><span class="se">\B</span><span class="s2">anGong\zentaopms\www&quot;</span>
        <span class="o">&lt;</span><span class="nx">Directory</span> <span class="s2">&quot;E:</span><span class="se">\B</span><span class="s2">anGong\zentaopms\www&quot;</span><span class="o">&gt;</span>
                <span class="nx">AllowOverride</span> <span class="kc">All</span>
                <span class="nx">Allow</span> <span class="nb">from</span> <span class="kc">all</span>
        <span class="o">&lt;/</span><span class="nx">Directory</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nx">VirtualHost</span><span class="o">&gt;</span>
</pre></div>


<p>打开域名/端口号,到/install/目录下 ,安装phpcms</p>
<h2 id="phpcms_1">phpcms 标签使用</h2>
<p>利用循环 获取内容标签,加自定义php判断,调用不同css样式显示内容(原因每个css样式不同)
pc 标签调用获取内容模块内容</p>
<div class="hlcode"><pre><span class="p">{</span><span class="nx">pc</span><span class="p">:</span><span class="nb">content</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;lists&quot;</span> <span class="n">catid</span><span class="o">=</span><span class="s2">&quot;13&quot;</span> <span class="n">num</span><span class="o">=</span><span class="s2">&quot;6&quot;</span>  <span class="k">order</span><span class="o">=</span><span class="s2">&quot;listorder ASC&quot;</span><span class="p">}</span>
<span class="o">&lt;?</span><span class="nx">php</span>
    <span class="nv">$n</span> <span class="o">=</span><span class="mi">1</span><span class="p">;</span>
    <span class="nb">foreach</span><span class="p">(</span><span class="nv">$data</span> <span class="nx">as</span> <span class="nv">$r</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span> <span class="nv">$n</span> <span class="o">==</span> <span class="mi">1</span> <span class="o">|</span> <span class="nv">$n</span><span class="o">==</span><span class="mi">4</span> <span class="p">){</span>
            <span class="nx">echo</span> <span class="s2">&quot;&lt;a href=&quot;</span><span class="nx">.</span><span class="nv">$r</span><span class="err">[</span><span class="nb">url</span><span class="cp">]</span>.&quot;&gt;<span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;.$r</span><span class="cp">[</span><span class="nx">thumb</span><span class="cp">]</span><span class="s">.&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>&quot;;
        }
        if( $n==2 | $n==5 ){
            echo &quot;<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;.$r</span><span class="cp">[</span><span class="nb">url</span><span class="cp">]</span><span class="s">.&quot;</span> <span class="na">class=</span><span class="s">&#39;two&#39;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;.$r</span><span class="cp">[</span><span class="nx">thumb</span><span class="cp">]</span><span class="s">.&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>&quot;;
        }
        if( $n==3 | $n==6 ){
            echo &quot;<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;.$r</span><span class="cp">[</span><span class="nb">url</span><span class="cp">]</span><span class="s">.&quot;</span> <span class="na">class=</span><span class="s">&#39;six&#39;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;.$r</span><span class="cp">[</span><span class="nx">thumb</span><span class="cp">]</span><span class="s">.&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>&quot;;
        }
        $n++;
    }
?&gt;
{/pc}
</pre></div>


<p>标准标签调用方法</p>
<div class="hlcode"><pre><span class="p">{</span><span class="n">pc</span><span class="o">:</span><span class="n">content</span> <span class="n">action</span><span class="o">=</span><span class="s">&quot;lists&quot;</span> <span class="n">catid</span><span class="o">=</span><span class="s">&quot;17&quot;</span> <span class="n">num</span><span class="o">=</span><span class="s">&quot;8&quot;</span> <span class="n">order</span><span class="o">=</span><span class="s">&quot;listorder ASC&quot;</span><span class="p">}</span>
<span class="p">{</span><span class="n">loop</span> <span class="err">$</span><span class="n">data</span> <span class="err">$</span><span class="n">key</span> <span class="err">$</span><span class="n">r</span><span class="p">}</span>
<span class="cm">/** 循环标签内容 **/</span>
<span class="p">{</span><span class="n">loop</span><span class="p">}</span>
<span class="p">{</span><span class="n">pc</span><span class="p">}</span>
</pre></div>


<p>引用模板</p>
<div class="hlcode"><pre><span class="p">{</span><span class="n">template</span> <span class="s">&quot;content&quot;</span><span class="p">,</span><span class="s">&quot;header&quot;</span><span class="p">}</span>
</pre></div>


<h2 id="phpcms_2">phpcms 后台管理</h2>
<p>调用标签内容,首先要在后台里,内容模块-&gt;管理栏目里,创建栏目,再创建子栏目(相当于二级标签)</p>
<p>页面模板在 phpcms/templates/default/content/ 路径下
选择 栏目类型 栏目主页面(page_xxx.html) 列表页面(list_xxx.html),内容页面(show_xxx.htm)
在栏目下 修改里选择自己创建好的 模板</p>
<p>每次修改都要更新栏目缓存</p>
<h3 id="_1">模型</h3>
<p>内容下有模型,可供自己选择(文章模型,图片模型,视频模型,下载模型),里面字段可以自己根据需要增减
当不能达到自己需要可以新建一个模型,模型英文名字对应数据库phpcms_V9 里表名</p>
<h3 id="_2">管理内容</h3>
<p>创建好栏目,可以在栏目下 创建 文章类 ,具体 show_xxx.html ,可以查看phpcms/template/default/content/show.html</p>
<p>里面调用 标签 方法</p>
<h2 id="jquery">jquery 动画展示图层插件</h2>
<p><a href="http://www.surperslide2.com">superslide</a>,解决网站特效问题</p>
<div class="hlcode"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;loopdiv&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;hd&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;jiantou prev&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
       <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;jiantou next&quot;</span><span class="nt">&gt;&lt;img</span> <span class="na">src=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;&lt;/a&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;bd&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ul&gt;</span>
            <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;li&gt;&lt;/li&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span><span class="nt">&gt;</span>
    jQuery(&quot;.loopdiv&quot;).slide({mainCell:&quot;.bd ul&quot;,autoPage:true,effect:&quot;leftLoop&quot;,autoPlay:true,vis:5,delayTime:700});
<span class="nt">&lt;/script&gt;</span>

&#39;&#39;&#39;

调用特效要先定义总的div,然后定义到div 下 .bd ul 下, 会特效显示<span class="nt">&lt;li&gt;</span>标签下内容
总div下 .hd 下是 调用下一个<span class="nt">&lt;li&gt;</span>标签样式 class下加 prev 是上一个, next 是下一个


调用独立标签
</pre></div>


<p>{$CATEGORYS[catid][url]}</p>
<div class="hlcode"><pre><span class="c">## css 知识 ##</span>


<span class="c">### img 标签约定像素 ###</span>
</pre></div>


<p><img height="200px" width="200px" src="/public/images/111.png"></p>
<div class="hlcode"><pre><span class="cp">### 引用视频 ###</span>

<span class="p">{</span><span class="err">$</span><span class="n">VideoUrl</span><span class="p">}</span><span class="err">是引用</span><span class="n">video</span><span class="err">地址</span><span class="p">,</span><span class="err">从</span><span class="n">youku</span><span class="o">/</span><span class="n">ku6</span><span class="err">网址分享视频</span><span class="n">swf</span><span class="err">地址即可</span>
</pre></div>


<p>object type="application/x-shockwave-flash" data="{$VideoUrl}" width="100%" height="500px" id="youku-player"&gt;<param name="allowFullScreen" value="true"><param name="allowScriptAccess" value="always"><param name="movie" value="{$VideoUrl}"><param name="flashvars" value="imglogo=&amp;paid=0&amp;partnerId=c097e4bfcaaf53f4&amp;styleid=9"></object>   </p>
<div class="hlcode"><pre><span class="err">###</span> <span class="err">引用手机端兼容视频</span> <span class="err">###</span>

<span class="p">{</span><span class="nv">$VideoUrl</span><span class="p">}</span><span class="err">引用</span><span class="nx">video</span><span class="err">中通用模块</span><span class="p">,</span><span class="err">网址分享通用模块</span><span class="p">,</span><span class="err">只把</span><span class="nb">src</span><span class="err">地址取下放到后台数据库中</span>

<span class="o">&lt;</span><span class="nx">iframe</span><span class="o">&gt;&lt;/</span><span class="nx">iframe</span><span class="o">&gt;</span><span class="err">中直接放到</span><span class="nx">html</span><span class="err">模板中</span><span class="p">,</span><span class="err">这里使用</span><span class="nx">youku</span><span class="err">通用链接</span>
</pre></div>


<iframe height="500" width="100%" src="{$VideoUrl}" frameborder=0 allowfullscreen></iframe>

<div class="hlcode"><pre><span class="cp">### 兼容 IE 手机 ###</span>

<span class="err">设置最小宽度和最大宽度</span><span class="p">,</span>
</pre></div>


<p>min-width:200px;
max-width:200px;</p>
<div class="hlcode"><pre><span class="cp">### IE 兼容css3 ###</span>

<span class="err">引用</span><span class="n">pie</span><span class="p">.</span><span class="n">js</span> <span class="err">具体支持哪些样式还要研究</span><span class="p">,</span><span class="err">阴影是可以</span>
</pre></div>


<!--[if IE]>
<script type="text/javascript" src="/public/js/PIE.js"></script>
<script type="text/javascript" src="/public/js/PIE_uncompressed.js"></script>
<![endif]-->

<script>
$(function() {
    if (window.PIE) {
        $('.js_kc ul').each(function() {
            PIE.attach(this);
        });
    }
});
</script>

<div class="hlcode"><pre><span class="c">### 右侧固定悬浮栏 ###</span>
</pre></div>


<style>
commonposition{_position:absolute;_top: expression(documentElement.scrollTop + 200 + "px");position:fixed; top:20%; right:0px; z-index:999999; display:none;}
.commonposition .HomeQQ{display:block; width:45px; height:45px; position:relative; background-color:#e20000; background-image:url(/public/images/icon.png);background-repeat:no-repeat;}
.commonposition span{display:none; position:absolute; right:0px; top:0px; height:45px; padding-left:50px; color:#fff;line-height:45px; font-size:14px;background-color:#262626;}

.QQ{display:block; width:45px; height:45px; position:relative; cursor:pointer;}

.HomeQQ{ background-position:-362px -186px;}
.Homedianhua{ background-position:-362px -231px;}
.Homexuqiu{ background-position:-362px -275px;}
.Homeweixin{display:block; width:45px; height:45px; position:relative; cursor:pointer; padding-top:1px; }
.weixin{ background-position:-362px -322px;display:block; width:45px; height:45px; position:relative; background-color:#e20000; background-image:url(/public/images/icon.png);background-repeat:no-repeat;}
.top{display:block; width:45px; height:45px; position:relative; padding-top:1px; overflow:hidden;}
.Hometop{ background-position:-362px -370px; background-color:#4e4e4e; display:block; width:45px; height:45px; position:relative; background-image:url(/public/images/icon.png);background-repeat:no-repeat; overflow:hidden; margin-top:1px; cursor:pointer;}

.QQbggray{background-position:-360px -186px;background-image:url(/public/images/icon.png);background-repeat:no-repeat; width:90px; position:absolute; margin-top:1px; height:45px;}
.commonposition span.weixinerweima{right:47px; top:-12px; padding:0px;}
.dianhuabggray{background-position:-362px -231px;background-image:url(/public/images/icon.png);background-repeat:no-repeat;width:120px;}
.Homexuqiu{ background-position:-362px -275px;background-image:url(/public/images/icon.png);background-repeat:no-repeat;width:120px;}
</syle>
<div class="commonposition" style="display: block;">
    <div class="QQ" style="margin-top:0px;">
        <div class="HomeQQ" style="display:block;"></div>
        <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=542608640&amp;site=www.huishi365.com&amp;menu=yes" target="_blank"><span class="QQbggray" style="display:none; ">业务咨询</span></a>
    </div>

    <div class="Homeweixin">
        <span class="weixinerweima" style="display:none;"><img src="/public/images/erweima2.png" width="210" height="210" ></span>
        <div class="weixin" ></div>
    </div>
        <div class="Hometop">
        </div>
</div>

<script type="text/javascript" >
    $(document).ready(function (){
        $(".HomeQQ").mouseover(function(){
            $(".HomeQQ").hide();
            $(".QQbggray").show(300);
        });
        $(".QQbggray").mouseout(function(){
            $(".QQbggray").hide();
            $(".HomeQQ").show(300);
        });
        $(".weixin").mouseover(function(){
            $(".weixinerweima").show(300);
        });
        $(".weixin").mouseout(function(){
            $(".weixinerweima").hide(300);
        });
        $(".Hometop").click(function(){
            $('html').animate({scrollTop:$('body').offset().top},500,'swing');
        });
    })
</script>


wzxhzdk:12


iframe width="100%" height="450" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=1&isWeibo=1&isFans=1&uid=2440537575&verifier=70a007d1&dpc=1"></iframe>

```

## ajax 异步获取

## phpcms 帮助文档 ##

[phpcms帮助文档](http://v9.help.phpcms.cn/)
</div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2016 NANJIA.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
            </span>
        </div>
        
    </body>
</html>